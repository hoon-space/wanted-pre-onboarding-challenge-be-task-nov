## 1. 사용자가 브라우저를 켜고 검색창에 네이버를 입력한다:

사용자가 웹 브라우저의 주소창에 "[www.naver.com](http://www.naver.com/)" 를 입력하고 엔터키를 누른다. 

## 2. 브라우저가 DNS 서버에 도메인 주소 요청

스마트폰이나 노트북부터 대규모 서버에 이르기까지 인터넷상의 모든 컴퓨터는 숫자를 사용하여 서로를 찾고 통신한다. 이러한 숫자를 **IP 주소**라고 한다. 그렇지만, 웹 브라우저를 열고 웹 사이트로 이동할 때는 긴 **IP 주소**를 기억해 입력할 필요가 없다. 대신 example.com과 같은 **도메인 이름**을 입력해도 원하는 웹 사이트로 갈 수 있다.

DNS는 전 세계에 배포된 서비스로서, [www.naver.com](http://www.naver.com/)과 같이 사람이 읽을 수 있는 이름을 192.0.2.1과 같은 숫자 IP 주소로 변환하여 컴퓨터가 서로 통신할 수 있도록 한다. 인터넷의 DNS 시스템은 이름과 숫자 간의 매핑을 관리하여 마치 전화번호부와 같은 기능을 한다. DNS 서버는 이름을 IP 주소로 변환하여 도메인 이름을 웹 브라우저에 입력할 때 최종 사용자를 어떤 서버에 연결할 것인지를 제어하고, 이 요청을 **쿼리**라고 부른다.

---

1. **도메인 이름 조회:**
    - 클라이언트(예: 웹 브라우저)가 도메인 이름을 포함한 URL을 입력하면, 우선적으로 로컬 DNS 캐시에 해당 도메인에 대한 IP 주소가 저장되어 있는지 확인한다.
2. **로컬 DNS 캐시 검색:**
    - 클라이언트의 로컬 DNS 캐시에 도메인 이름과 해당하는 IP 주소가 캐싱되어 있다면, 바로 그 값을 반환한다.
3. **DNS 서버 쿼리:**
    - 로컬 DNS 캐시에 해당 정보가 없거나 만료되었을 경우, 클라이언트의 컴퓨터는 DNS 서버에 도메인 이름을 조회하는 DNS 쿼리를 보낸다.
4. **루트 DNS 서버:**
    - 먼저, DNS 서버는 루트 DNS 서버에 도메인을 물어본다. 루트 DNS 서버는 최상위 도메인을 관리하는 서버로, ".com", ".net", ".org"와 같은 최상위 도메인의 정보를 알려준다.
5. **토피컬(Top-Level) 도메인 서버:**
    - 루트 DNS 서버는 클라이언트에게 최상위 도메인 서버의 주소를 알려준다. 클라이언트는 해당 최상위 도메인 서버에 다시 도메인을 물어본다.
6. **관리 도메인 서버:**
    - 최상위 도메인 서버는 이제 클라이언트에게 실제 도메인을 관리하는 도메인 서버의 주소를 알려준다. 이 서버는 특정 도메인의 IP 주소를 알고 있다.
7. **도메인 서버:**
    - 최종적으로, 도메인 서버는 클라이언트에게 해당 도메인의 IP 주소를 반환한다.
8. **로컬 DNS 캐시 갱신:**
    - 클라이언트의 로컬 DNS 캐시는 이 정보를 저장해둠으로써, 나중에 같은 도메인을 요청할 때 더 빠르게 응답할 수 있다.

---

**신뢰할 수 있는 DNS:** **신뢰할 수 있는 DNS** 서비스는 개발자가 퍼블릭 DNS 이름을 관리하기 쉽게 돕는다. 이 메커니즘을 통해 DNS 시스템은 DNS 쿼리에 응답하고 도메인 이름을 IP 주소로 변환한다. 그러면 컴퓨터가 서로 통신할 수 있게 된다. 신뢰할 수 있는 DNS는 도메인에 대해 최종 권한이 있으며 **재귀적 DNS** 서버에 IP 주소 정보가 담긴 답을 제공할 책임이 있다. 예를 들면, **Amazon Route 53 같은 DNS 서비스가 있다. 위의 예시에서는 7번이 해당 도메인 서버다.**

**재귀적 DNS:** 대개 클라이언트는 신뢰할 수 있는 DNS 서비스에 직접 쿼리를 수행하지 않는다. 대신에 **해석기** 또는 **재귀적 DNS** 서비스라고 알려진 다른 유형의 DNS 서비스에 연결하는 경우가 일반적이다. DNS 레코드를 소유하고 있지 않지만 사용자를 대신해서 DNS 정보를 가져올 수 있는 중간자의 역할을 하게된다. 재귀적 DNS가 일정 기간 **캐시된** 또는 저장된 DNS 참조를 가지고 있는 경우, 소스 또는 IP 정보를 제공하여 DNS 쿼리에 답을 한다. 그렇지 않다면, 해당 정보를 찾기 위해 쿼리를 하나 이상의 신뢰할 수 있는 DNS 서버에 전달한다. 4, 5, 6번이 재귀적 DNS라고 할 수 있다.

## 3. 서버 연결 요청

DNS 해석기가 마침내 사용자에게 필요한 IP 주소를 확보하게 되면 해석기는 이 값을 웹 브라우저로 반환한다. 또한, DNS 해석기는 다음에 누군가가 naver.com을 탐색할 때 좀 더 빠르게 응답할 수 있도록 사용자가 지정하는 일정 기간 naver.com의 IP 주소를 캐싱(저장)한다.

브라우저는 DNS 서버로부터 받은 네이버의 IP 주소를 사용하여 해당 서버(네이버 서버)에 HTTP 요청을 보낸다. 이 요청은 네이버 서버에 접속하겠다는 의미다. 

## 4. 네이버 서버가 응답

네이버 서버는 브라우저의 요청을 받고, 해당하는 내용을 포함한 HTTP 응답을 생성하여 브라우저로 전송한다. 이 응답에는 HTML, CSS, JavaScript 등의 웹 페이지를 구성하는 요소들이 포함된다. 

## 5. 웹 페이지 렌더링:

브라우저는 서버로부터 받은 응답을 받아와 HTML(HyperText Markup Language), CSS(Cascading Style Sheets), JavaScript와 같은 리소스를 해석하고 처리한다. HTML은 웹 페이지의 구조를 정의하고, CSS는 스타일을 지정하며, JavaScript는 동적인 기능을 추가한다. 이를 통해 사용자가 화면에 보는 웹 페이지가 구성된다. 

## 6. 화면 출력

최종적으로 브라우저는 렌더링된 내용을 화면에 출력하여 사용자가 네이버 홈페이지를 볼 수 있게 된다. 이렇게 사용자가 주소창에 주소를 입력하면, 브라우저는 그에 따른 다양한 네트워크 요청과 응답 과정을 거쳐 해당 웹 페이지를 화면에 출력한다.